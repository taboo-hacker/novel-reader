<div align="center">
  <h1>小说阅读器</h1>
  <p>一个轻量级的本地小说阅读器 Web 应用，基于 Python 标准库实现，无需额外依赖，支持自动解析 ZIP 压缩包中的飞卢小说文本，提供智能分章处理和响应式 Web 阅读界面，适配多种设备。</p>
</div>

![Python](https://img.shields.io/badge/Python-3.13+-blue)
![License](https://img.shields.io/badge/License-GNU%20GPL%20v3.0-green)


## 📦 项目结构

```
novel-reader/
├── src/                 # 源代码目录
│   ├── parsers/         # 解析器目录
│   │   ├── novel_parser.py  # 小说章节解析器
│   │   └── zip_parser.py    # ZIP 文件处理器
│   ├── generators/      # 生成器目录
│   │   └── html_generator.py  # HTML 生成器
│   ├── utils/           # 工具函数目录
│   │   └── helpers.py   # 辅助函数
│   ├── config.py        # 配置文件
│   ├── server.py        # HTTP 服务器实现
│   └── main.py          # 主程序入口
├── static/              # 静态文件目录
│   ├── css/             # 样式表文件目录
│   │   └── style.css    # 样式表文件
│   └── js/              # JavaScript 文件目录
│       └── app.js       # 前端脚本
├── templates/           # 模板文件目录
├── xs/                  # 存放小说 ZIP 文件的目录
├── logs/                # 日志文件目录
├── main.py              # 项目入口文件
└── README.md            # 项目说明文件
```

## 🛠️ 技术栈

- **后端**：Python 3.7+（仅使用标准库 `http.server`）
- **前端**：HTML5 + CSS3 + JavaScript
- **文件处理**：`zipfile` 标准库
- **日志管理**：`logging` 标准库

## 🚀 安装与使用

### 前置要求

- Python 3.7+
- 飞卢小说 ZIP 文件（需放在项目目录的 `xs/` 文件夹下）

### 快速启动

1. **克隆仓库**：

   ```bash
   git clone https://github.com/taboo-hacker/novel-reader.git
   cd novel-reader
   ```

2. **放入小说文件**：

   将飞卢小说 ZIP 文件放入 `xs/` 目录，文件名格式应为小说名.zip。

3. **启动服务**：

   ```bash
   python main.py
   ```

4. **浏览器访问**：

   打开浏览器，访问 [http://localhost:8080](http://localhost:8080) 即可开始阅读。

## ⚡ 功能特性

- **自动分章**：智能识别小说章节结构，自动将小说内容分章展示。
- **即点即读**：点击章节名称即可立即阅读对应章节内容。
- **深色模式**：支持深色和浅色模式切换，保护眼睛，提升阅读体验。
- **字体调整**：支持字体大小调整，适应不同阅读习惯。
- **书签功能**：支持添加书签，记录阅读进度，下次打开自动提示。
- **章节导航**：提供上一章/下一章导航按钮，方便章节间跳转。
- **响应式设计**：适配不同设备屏幕尺寸，支持桌面端和移动端。
- **日志记录**：完整记录访问日志，方便开发者调试和用户了解访问情况。
- **跨平台**：支持 Windows/Linux/macOS 等主流操作系统，无需额外配置。
- **无数据库**：纯文件系统存储，无需依赖数据库，简化了部署和维护过程。
- **缓存机制**：实现小说解析缓存，提高性能和响应速度。
- **安全处理**：实现安全的路径处理，防止目录遍历攻击。

## 📝 配置选项

通过修改 `src/config.py` 文件，可以自定义以下配置：

- **服务端口**：`PORT`，默认为 8080。
- **小说存储目录**：`XS_DIR`，默认为 `./xs`。
- **静态文件目录**：`STATIC_DIR`，默认为 `./static`。
- **模板文件目录**：`TEMPLATES_DIR`，默认为 `./templates`。
- **日志文件目录**：`LOGS_DIR`，默认为 `./logs`。
- **日志级别**：`LOG_LEVEL`，默认为 `INFO`。
- **小说目标**：`TARGET`，目前仅支持“飞卢小说”。
- **小说文件格式**：`ENDSWITH`，默认为 `.zip`。

## 📜 开源协议

本项目根据 [GNU General Public License v3.0](LICENSE) 授权。详情请参阅 [LICENSE](LICENSE) 文件。

## 📞 联系方式

如有任何问题或建议，欢迎通过以下方式联系我们：

- 邮箱：leo43991314520@outlook.com
- GitHub：[@taboo-hacker](https://github.com/taboo-hacker)

## 📋 更新日志

### v1.0.1 (2026-02-09)

- **功能增强**：
  - 在章节导航中添加了返回目录功能
  - 在章节导航中添加了返回首页功能
- **前端改进**：
  - 优化了章节导航的布局和样式
  - 为返回首页和返回目录按钮添加了特殊样式
  - 改进了导航按钮的响应式设计

### v1.0.0 (2026-02-09)

- **项目结构重构**：创建了合理的目录组织，实现了模块化设计
- **代码质量改进**：添加了详细的类型提示、异常处理和文档字符串
- **功能增强**：
  - 实现了深色模式切换功能
  - 添加了字体大小调整功能
  - 实现了书签添加和恢复功能
  - 添加了章节导航功能
  - 实现了响应式设计
- **性能优化**：实现了缓存机制，提高小说解析性能
- **安全性改进**：实现了安全的路径处理，防止目录遍历攻击
- **前端改进**：创建了现代化的 CSS 样式，添加了流畅的动画效果
- **配置系统**：简化了配置系统，提高了可维护性
- **日志系统**：完善了日志系统，提供更详细的日志信息

### v0.1.0-beta.1 (2025-10-21)

- **核心功能**：实现了小说解析、章节分割和Web阅读界面
- **基本特性**：支持ZIP文件处理、自动分章和基本的Web界面
